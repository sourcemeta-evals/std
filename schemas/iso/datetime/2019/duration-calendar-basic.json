{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "ISO 8601-1:2019 Calendar Duration (Basic Format)",
  "description": "A duration representation in basic format (PYYYYMMDD) with validation to prevent invalid month/day combinations",
  "$comment": "https://www.iso.org/standard/70907.html",
  "examples": [
    "P20230131",
    "P20230228",
    "P20230229",
    "P20230430",
    "P20231231",
    "P00010101"
  ],
  "x-license": "https://github.com/sourcemeta/std/blob/main/LICENSE",
  "type": "string",
  "anyOf": [
    {
      "$comment": "31-day months: January, March, May, July, August, October, December (01, 03, 05, 07, 08, 10, 12) with days 01-31",
      "pattern": "^P\\d{4}(0[13578]|1[02])(0[1-9]|[12][0-9]|3[01])$"
    },
    {
      "$comment": "30-day months: April, June, September, November (04, 06, 09, 11) with days 01-30",
      "pattern": "^P\\d{4}(0[469]|11)(0[1-9]|[12][0-9]|30)$"
    },
    {
      "$comment": "February (02) with days 01-29 (leap year validation excluded as requested)",
      "pattern": "^P\\d{4}02(0[1-9]|1[0-9]|2[0-9])$"
    }
  ]
}
