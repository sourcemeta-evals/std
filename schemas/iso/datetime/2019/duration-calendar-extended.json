{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "ISO 8601-1:2019 Duration (Alternative Calendar Extended Format)",
  "description": "A duration in alternative extended format P[YYYY-MM-DD]T[HH:MM:SS] (ยง5.5.2.4). This schema validates month/day combinations to prevent invalid dates like February 30 or April 31, but does not validate leap years (February 29 is always accepted).",
  "$comment": "https://www.iso.org/standard/70907.html",
  "examples": [
    "P0002-01-10T22:33:55",
    "P0001-01-01T00:00:00",
    "P0001-12-31T23:59:59"
  ],
  "x-license": "https://github.com/sourcemeta/std/blob/main/LICENSE",
  "type": "string",
  "allOf": [
    {
      "$comment": "February cannot have day 30 or 31",
      "not": {
        "pattern": "^P(?:[0-9]{4}|[+-][0-9]{5,})-02-(?:3[01])T"
      }
    },
    {
      "$comment": "April, June, September, and November cannot have day 31",
      "not": {
        "pattern": "^P(?:[0-9]{4}|[+-][0-9]{5,})-(?:04|06|09|11)-31T"
      }
    }
  ],
  "pattern": "^P(?:[0-9]{4}|[+-][0-9]{5,})-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])T(?:[01][0-9]|2[0-3]):(?:[0-5][0-9]):(?:[0-5][0-9])$"
}
